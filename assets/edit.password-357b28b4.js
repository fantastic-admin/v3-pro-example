import{_ as y}from"./index-67f68a56.js";import{g as x,V as E,h as m,r as a,o as C,c as P,a as e,w as s,u as r,b as U,E as q,P as S,e as B,d as i}from"./index-2063e8c9.js";const N=x({name:"PersonalEditPassword",__name:"edit.password",setup(R){const c=E(),p=m(),o=m({password:"",newpassword:"",checkpassword:""}),w=m({password:[{required:!0,message:"请输入原密码",trigger:"blur"}],newpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:18,trigger:"blur",message:"密码长度为6到18位"}],checkpassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:(d,l,n)=>{l!==o.value.newpassword?n(new Error("请确认新密码")):n()}}]});function f(){p.value&&p.value.validate(d=>{d&&c.editPassword(o.value).then(()=>{q({type:"success",message:"模拟修改成功，请重新登录"}),c.logout()})})}return(d,l)=>{const n=S,u=a("el-input"),_=a("el-form-item"),g=a("el-form"),b=a("el-col"),V=a("el-row"),h=B,k=a("el-button"),v=y;return C(),P("div",null,[e(n,{title:"修改密码",content:"定期修改密码可以提高帐号安全性噢~"}),e(h,null,{default:s(()=>[e(V,null,{default:s(()=>[e(b,{md:24,lg:12},{default:s(()=>[e(g,{ref_key:"formRef",ref:p,model:r(o),rules:r(w),"label-width":"120px"},{default:s(()=>[e(_,{label:"原密码",prop:"password"},{default:s(()=>[e(u,{modelValue:r(o).password,"onUpdate:modelValue":l[0]||(l[0]=t=>r(o).password=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),e(_,{label:"新密码",prop:"newpassword"},{default:s(()=>[e(u,{modelValue:r(o).newpassword,"onUpdate:modelValue":l[1]||(l[1]=t=>r(o).newpassword=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),e(_,{label:"确认新密码",prop:"checkpassword"},{default:s(()=>[e(u,{modelValue:r(o).checkpassword,"onUpdate:modelValue":l[2]||(l[2]=t=>r(o).checkpassword=t),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1}),e(v,null,{default:s(()=>[e(k,{type:"primary",size:"large",onClick:f},{default:s(()=>[U(" 提交 ")]),_:1})]),_:1})])}}});typeof i=="function"&&i(N);export{N as default};
