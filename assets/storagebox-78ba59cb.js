import{_ as T}from"./index-b7719e05.js";import{g as M,az as F,V as P,h as w,N as A,ad as V,K as G,r as _,o as p,f as E,w as t,l as h,t as j,a as e,u as n,c as B,j as K,F as L,b as f,y as q,a2 as H,k as z,ag as Q,_ as W,i as X,E as Y,P as Z,e as ee,d as I}from"./index-2063e8c9.js";import{S as te}from"./sortable.esm-0d19b1d3.js";const oe={class:"container"},le={class:"title-bar"},ae={class:"title"},ne={class:"icons"},se=["title","onClick"],_e={key:1,class:"empty"},ce=M({name:"StorageBox",__name:"index",props:{name:{},modelValue:{},title:{default:"储存箱"}},emits:["update:modelValue","takeOut"],setup(J,{emit:g}){const a=J,b=g,C=F(),i=P(),o=w([]);A(()=>{d()});function N(){H.prompt("请输入一个方便记忆的名称","",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/\S/,inputErrorMessage:"名称不能为空"}).then(({value:l})=>{l&&(o.value.push({title:l,content:JSON.stringify(a.modelValue)}),v())})}function O(l){b("update:modelValue",JSON.parse(l)),b("takeOut",JSON.parse(l))}function k(l){o.value.splice(l,1),v()}function y(l,s){o.value.splice(l,0,o.value.splice(s,1)[0]),v()}function v(){const l=V.session.has("storageBoxData")?JSON.parse(V.session.get("storageBoxData")):{};l[i.account]=l[i.account]||{},l[i.account][a.name]=o.value,V.session.set("storageBoxData",JSON.stringify(l))}function d(){V.session.has("storageBoxData")&&(o.value=JSON.parse(V.session.get("storageBoxData"))[i.account][a.name]||[])}const u=w();return G(()=>u.value,l=>{l&&new te(u.value,{animation:200,ghostClass:"ghost",draggable:".item",onUpdate:s=>{s.newIndex!==void 0&&s.oldIndex!==void 0&&y(s.newIndex,s.oldIndex)}})}),(l,s)=>{const r=z,x=_("el-text"),U=_("el-scrollbar"),$=_("el-dropdown");return p(),E($,{placement:"bottom",trigger:"hover"},{dropdown:t(()=>[h("div",oe,[h("div",le,[h("div",ae,j(l.title),1),h("div",ne,[e(r,{name:"ep:plus",onClick:N})])]),n(o).length>0?(p(),E(U,{key:0,"max-height":"200px"},{default:t(()=>[h("div",{ref_key:"containerRef",ref:u,class:"list"},[(p(!0),B(L,null,K(n(o),(m,S)=>(p(),B("div",{key:`${S}_${m.title}`,title:m.title,class:"item",onClick:D=>O(m.content)},[e(x,{truncated:"",class:"name"},{default:t(()=>[f(j(m.title),1)]),_:2},1024),e(r,{name:"ep:delete",class:"delete",onClick:Q(D=>k(S),["stop"])},null,8,["onClick"])],8,se))),128))],512)]),_:1})):(p(),B("div",_e,[e(r,{name:"tabler:mood-empty",size:40}),e(x,null,{default:t(()=>[f("空空如也")]),_:1})]))])]),default:t(()=>[n(C).default?q(l.$slots,"default",{key:0},void 0,!0):(p(),E(r,{key:1,name:"ep:message-box",size:16}))]),_:3})}}});const ue=W(ce,[["__scopeId","data-v-9c1a29a3"]]),de=M({name:"ComponentExampleStorageBox",__name:"storagebox",setup(J){const g=w([]),a=w({name:"",department_id:"",department_job_id:"",role_id:"",check1:!1,check2:!1});function b(){Y.info("模拟触发搜索")}function C(i){a.value=i,b()}return(i,o)=>{const N=Z,O=_("el-alert"),k=ue,y=ee,v=_("el-input"),d=_("el-form-item"),u=_("el-col"),l=_("el-row"),s=_("el-option"),r=_("el-select"),x=_("el-checkbox"),U=z,$=_("el-button"),m=_("el-text"),S=_("el-space"),D=_("el-form"),R=T;return p(),B("div",null,[e(N,{title:"储存箱",content:"StorageBox"}),e(y,{title:"你可以将页面中的数据（object/array）储存到该组件内，并在需要的时候取出来"},{default:t(()=>[e(O,{"show-icon":"",title:"该组件需要搭配业务场景使用。",closable:!1}),e(k,{modelValue:n(g),"onUpdate:modelValue":o[0]||(o[0]=c=>X(g)?g.value=c:null),name:"box1",style:{"margin-top":"10px"}},null,8,["modelValue"])]),_:1}),e(y,{title:"推荐场景：具有复杂筛选项的页面，并记录常用的筛选条件"},{default:t(()=>[e(R,{"show-toggle":!1},{default:t(()=>[e(D,{model:n(a),size:"default","label-width":"120px"},{default:t(()=>[e(l,null,{default:t(()=>[e(u,{span:12},{default:t(()=>[e(d,{label:"姓名 / 手机号"},{default:t(()=>[e(v,{modelValue:n(a).name,"onUpdate:modelValue":o[1]||(o[1]=c=>n(a).name=c),placeholder:"请输入姓名或者手机号，支持模糊查询",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(u,{span:6},{default:t(()=>[e(d,{label:"部门"},{default:t(()=>[e(r,{modelValue:n(a).department_id,"onUpdate:modelValue":o[2]||(o[2]=c=>n(a).department_id=c),clearable:"",placeholder:"请选择部门"},{default:t(()=>[e(s,{label:"技术部",value:1}),e(s,{label:"设计部",value:2}),e(s,{label:"行政部",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:t(()=>[e(d,{label:"职位"},{default:t(()=>[e(r,{modelValue:n(a).department_job_id,"onUpdate:modelValue":o[3]||(o[3]=c=>n(a).department_job_id=c),clearable:"",placeholder:"请选择职位"},{default:t(()=>[e(s,{label:"程序员",value:1}),e(s,{label:"设计师",value:2}),e(s,{label:"人事",value:3})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:6},{default:t(()=>[e(d,{label:"角色"},{default:t(()=>[e(r,{modelValue:n(a).role_id,"onUpdate:modelValue":o[4]||(o[4]=c=>n(a).role_id=c),clearable:"",placeholder:"请选择角色"},{default:t(()=>[e(s,{label:"主管",value:1}),e(s,{label:"普通职员",value:2})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(u,{span:24},{default:t(()=>[e(d,{label:"角色"},{default:t(()=>[e(x,{modelValue:n(a).check1,"onUpdate:modelValue":o[5]||(o[5]=c=>n(a).check1=c)},{default:t(()=>[f(" 备选项 ")]),_:1},8,["modelValue"]),e(x,{modelValue:n(a).check2,"onUpdate:modelValue":o[6]||(o[6]=c=>n(a).check2=c)},{default:t(()=>[f(" 备选项 ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(S,null,{default:t(()=>[e($,{type:"primary",onClick:b},{icon:t(()=>[e(U,{name:"ep:search"})]),default:t(()=>[f(" 筛选 ")]),_:1}),e(k,{"model-value":n(a),name:"box2",title:"我的快捷筛选",onTakeOut:C},{default:t(()=>[e(m,null,{default:t(()=>[f(" 保存当前筛选 ")]),_:1})]),_:1},8,["model-value"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});typeof I=="function"&&I(de);export{de as default};
