import{a as n}from"./department-243f0b10.js";import{g as V,h as s,N as k,E as m,r,S as C,T as D,u as o,o as E,c as R,a as u,w as d}from"./index-2063e8c9.js";const N=V({__name:"index",props:{id:{default:""}},setup(f,{expose:c}){const p=f,i=s(!1),l=s(),e=s({id:p.id,title:""}),_=s({title:[{required:!0,message:"请输入部门名称",trigger:"blur"}]});k(()=>{e.value.id!==""&&v()});function v(){i.value=!0,n.detail(e.value.id).then(a=>{i.value=!1,e.value.title=a.data.title})}return c({submit(){return new Promise(a=>{e.value.id===""?l.value&&l.value.validate(t=>{t&&n.create(e.value).then(()=>{m.success({message:"模拟新增成功",center:!0}),a()})}):l.value&&l.value.validate(t=>{t&&n.edit(e.value).then(()=>{m.success({message:"模拟编辑成功",center:!0}),a()})})})}}),(a,t)=>{const g=r("el-input"),h=r("el-form-item"),x=r("el-form"),b=C("loading");return D((E(),R("div",null,[u(x,{ref_key:"formRef",ref:l,model:o(e),rules:o(_),"label-width":"120px","label-suffix":"："},{default:d(()=>[u(h,{label:"部门",prop:"title"},{default:d(()=>[u(g,{modelValue:o(e).title,"onUpdate:modelValue":t[0]||(t[0]=w=>o(e).title=w),placeholder:"请输入部门名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[b,o(i)]])}}});export{N as _};
