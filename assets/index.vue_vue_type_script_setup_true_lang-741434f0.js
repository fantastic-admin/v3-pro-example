import{U as o,g as U,h as d,N as w,E as c,r as n,S as L,T as V,u as r,o as C,c as E,a as u,w as f}from"./index-2063e8c9.js";const m={list:e=>o.get("standard_module/list",{params:e,baseURL:"/mock/"}),detail:e=>o.get("standard_module/detail",{params:{id:e},baseURL:"/mock/"}),create:e=>o.post("standard_module/create",e,{baseURL:"/mock/"}),edit:e=>o.post("standard_module/edit",e,{baseURL:"/mock/"}),delete:e=>o.post("standard_module/delete",{id:e},{baseURL:"/mock/"})},B=U({__name:"index",props:{id:{default:""}},setup(e,{expose:p}){const _=e,i=d(!1),l=d(),t=d({id:_.id,title:""}),v=d({title:[{required:!0,message:"请输入标题",trigger:"blur"}]});w(()=>{t.value.id!==""&&g()});function g(){i.value=!0,m.detail(t.value.id).then(s=>{i.value=!1,t.value.title=s.data.title})}return p({submit(){return new Promise(s=>{t.value.id===""?l.value&&l.value.validate(a=>{a&&m.create(t.value).then(()=>{c.success({message:"模拟新增成功",center:!0}),s()})}):l.value&&l.value.validate(a=>{a&&m.edit(t.value).then(()=>{c.success({message:"模拟编辑成功",center:!0}),s()})})})}}),(s,a)=>{const b=n("el-input"),k=n("el-form-item"),R=n("el-form"),h=L("loading");return V((C(),E("div",null,[u(R,{ref_key:"formRef",ref:l,model:r(t),rules:r(v),"label-width":"120px","label-suffix":"："},{default:f(()=>[u(k,{label:"标题",prop:"title"},{default:f(()=>[u(b,{modelValue:r(t).title,"onUpdate:modelValue":a[0]||(a[0]=x=>r(t).title=x),placeholder:"请输入标题"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[h,r(i)]])}}});export{B as _,m as a};
