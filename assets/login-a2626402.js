import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-d5331bf5.js";import{g as Z,n as ee,z as oe,V as le,m as ae,h as d,ad as y,r as w,c as te,a as e,w as l,l as s,u as o,T as F,ae as $,$ as se,a0 as re,o as ne,t as x,af as ie,b as n,ag as S,k as de,E as L,_ as ue,d as E}from"./index-2063e8c9.js";import pe from"./index-42eb151a.js";import ce from"./login-switcher-95d7f594.js";const h=k=>(se("data-v-b77009fb"),k=k(),re(),k),me=h(()=>s("div",{class:"bg-banner"},null,-1)),ge={id:"login-box"},fe={class:"login-banner"},_e=h(()=>s("div",{class:"logo"},null,-1)),ve=["src"],we={class:"title-container"},be={class:"title"},he={class:"flex-bar"},ye={class:"sub-link"},xe=h(()=>s("span",{class:"text"},"è¿˜æ²¡æœ‰å¸å·?",-1)),ke={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},Ve=h(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," æŽ¢ç´¢ä»Žè¿™é‡Œå¼€å§‹! ðŸš€ ")],-1)),Ce={class:"sub-link"},Re=h(()=>s("span",{class:"text"},"å·²ç»æœ‰å¸å·?",-1)),Ue=h(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," å¿˜è®°å¯†ç äº†? ðŸ”’ ")],-1)),Pe={class:"sub-link"},B=Z({name:"Login",__name:"login",setup(k){var I;const K=ee(),N=oe(),T=le(),{t:p}=ae(),D=new URL(""+new URL("login-banner-a565fac8.png",import.meta.url).href,self.location).href,M="Fantastic-admin ä¸“ä¸šç‰ˆ",g=d("login"),b=d(!1),A=d(((I=K.query.redirect)==null?void 0:I.toString())??"/"),C=d(),i=d({account:y.local.get("login_account")||"",password:"",remember:y.local.has("login_account")}),j=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function R(){C.value&&C.value.validate(_=>{_&&(b.value=!0,T.login(i.value).then(()=>{b.value=!1,i.value.remember?y.local.set("login_account",i.value.account):y.local.remove("login_account"),N.push(A.value)}).catch(()=>{b.value=!1}))})}const U=d(),u=d({account:"",captcha:"",password:"",checkPassword:""}),G=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}],checkPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{validator:(_,a,r)=>{a!==u.value.password?r(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):r()}}]});function H(){L({message:"æ³¨å†Œæ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"warning"}),U.value&&U.value.validate(_=>{})}const P=d(),f=d({account:y.local.get("login_account"),captcha:"",newPassword:""}),J=d({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],newPassword:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ–°å¯†ç "},{min:6,max:18,trigger:"blur",message:"å¯†ç é•¿åº¦ä¸º6åˆ°18ä½"}]});function O(){L({message:"é‡ç½®å¯†ç ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•",type:"info"}),P.value&&P.value.validate(_=>{})}function z(_){i.value.account=_,i.value.password="123456",R()}return(_,a)=>{const r=de,Q=Y,c=w("el-input"),m=w("el-form-item"),W=w("el-checkbox"),V=w("el-link"),v=w("el-button"),X=w("el-divider"),q=w("el-form");return ne(),te("div",null,[me,e(Q,{class:"i18n-selector"},{default:l(()=>[e(r,{name:"ri:translate"})]),_:1}),s("div",ge,[s("div",fe,[_e,s("img",{src:o(D),class:"banner"},null,8,ve)]),F(e(q,{ref_key:"loginFormRef",ref:C,model:o(i),rules:o(j),class:"login-form"},{default:l(()=>[s("div",we,[s("h3",be," æ¬¢è¿Žæ¥åˆ° "+x(o(M))+" ! ðŸ‘‹ðŸ» ",1)]),s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(i).account,"onUpdate:modelValue":a[0]||(a[0]=t=>o(i).account=t),placeholder:o(p)("app.account"),type:"text",tabindex:"1"},{prefix:l(()=>[e(r,{name:"ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"password"},{default:l(()=>[e(c,{modelValue:o(i).password,"onUpdate:modelValue":a[1]||(a[1]=t=>o(i).password=t),type:"password",placeholder:o(p)("app.password"),tabindex:"2",autocomplete:"new-password","show-password":"",onKeyup:ie(R,["enter"])},{prefix:l(()=>[e(r,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder","onKeyup"])]),_:1})]),s("div",he,[e(W,{modelValue:o(i).remember,"onUpdate:modelValue":a[2]||(a[2]=t=>o(i).remember=t)},{default:l(()=>[n(" è®°ä½æˆ‘ ")]),_:1},8,["modelValue"]),e(V,{type:"primary",underline:!1,onClick:a[3]||(a[3]=t=>g.value="reset")},{default:l(()=>[n(" å¿˜è®°å¯†ç äº†? ")]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%"},onClick:S(R,["prevent"])},{default:l(()=>[n(x(o(p)("app.login")),1)]),_:1},8,["loading","onClick"]),s("div",ye,[xe,e(V,{type:"primary",underline:!1,onClick:a[4]||(a[4]=t=>g.value="register")},{default:l(()=>[n(" åˆ›å»ºæ–°å¸å· ")]),_:1})]),s("div",ke,[e(X,null,{default:l(()=>[n("æ¼”ç¤ºè´¦å·ä¸€é”®ç™»å½•")]),_:1}),e(v,{type:"primary",size:"small",plain:"",onClick:a[5]||(a[5]=t=>z("admin"))},{default:l(()=>[n(" admin ")]),_:1}),e(v,{size:"small",plain:"",onClick:a[6]||(a[6]=t=>z("test"))},{default:l(()=>[n(" test ")]),_:1})])]),_:1},8,["model","rules"]),[[$,o(g)==="login"]]),F(e(q,{ref_key:"registerFormRef",ref:U,model:o(u),rules:o(G),class:"login-form","auto-complete":"on"},{default:l(()=>[Ve,s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(u).account,"onUpdate:modelValue":a[7]||(a[7]=t=>o(u).account=t),placeholder:"ç”¨æˆ·å",tabindex:"1"},{prefix:l(()=>[e(r,{name:"ri:user-3-fill"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"captcha"},{default:l(()=>[e(c,{modelValue:o(u).captcha,"onUpdate:modelValue":a[8]||(a[8]=t=>o(u).captcha=t),placeholder:"éªŒè¯ç ",tabindex:"2"},{prefix:l(()=>[e(r,{name:"ic:baseline-verified-user"})]),append:l(()=>[e(v,null,{default:l(()=>[n("å‘é€éªŒè¯ç ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"password"},{default:l(()=>[e(c,{modelValue:o(u).password,"onUpdate:modelValue":a[9]||(a[9]=t=>o(u).password=t),type:"password",placeholder:"å¯†ç ",tabindex:"3","show-password":""},{prefix:l(()=>[e(r,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue"])]),_:1}),e(m,{prop:"checkPassword"},{default:l(()=>[e(c,{modelValue:o(u).checkPassword,"onUpdate:modelValue":a[10]||(a[10]=t=>o(u).checkPassword=t),type:"password",placeholder:"ç¡®è®¤å¯†ç ",tabindex:"4","show-password":""},{prefix:l(()=>[e(r,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue"])]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:S(H,["prevent"])},{default:l(()=>[n(" æ³¨å†Œ ")]),_:1},8,["loading","onClick"]),s("div",Ce,[Re,e(V,{type:"primary",underline:!1,onClick:a[11]||(a[11]=t=>g.value="login")},{default:l(()=>[n(" åŽ»ç™»å½• ")]),_:1})])]),_:1},8,["model","rules"]),[[$,o(g)==="register"]]),F(e(q,{ref_key:"resetFormRef",ref:P,model:o(f),rules:o(J),class:"login-form"},{default:l(()=>[Ue,s("div",null,[e(m,{prop:"account"},{default:l(()=>[e(c,{modelValue:o(f).account,"onUpdate:modelValue":a[12]||(a[12]=t=>o(f).account=t),placeholder:o(p)("app.account"),type:"text",tabindex:"1"},{prefix:l(()=>[e(r,{name:"ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"captcha"},{default:l(()=>[e(c,{modelValue:o(f).captcha,"onUpdate:modelValue":a[13]||(a[13]=t=>o(f).captcha=t),placeholder:o(p)("app.captcha"),type:"text",tabindex:"2"},{prefix:l(()=>[e(r,{name:"ic:baseline-verified-user"})]),append:l(()=>[e(v,null,{default:l(()=>[n(x(o(p)("app.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(m,{prop:"newPassword"},{default:l(()=>[e(c,{modelValue:o(f).newPassword,"onUpdate:modelValue":a[14]||(a[14]=t=>o(f).newPassword=t),type:"password",placeholder:o(p)("app.newPassword"),tabindex:"3","show-password":""},{prefix:l(()=>[e(r,{name:"ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),e(v,{loading:o(b),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:S(O,["prevent"])},{default:l(()=>[n(x(o(p)("app.check")),1)]),_:1},8,["loading","onClick"]),s("div",Pe,[e(V,{type:"primary",underline:!1,onClick:a[15]||(a[15]=t=>g.value="login")},{default:l(()=>[n(x(o(p)("app.goLogin")),1)]),_:1})])]),_:1},8,["model","rules"]),[[$,o(g)==="reset"]])]),e(pe),e(ce,{class:"login-switcher"})])}}});typeof E=="function"&&E(B);const ze=ue(B,[["__scopeId","data-v-b77009fb"]]);export{ze as default};
