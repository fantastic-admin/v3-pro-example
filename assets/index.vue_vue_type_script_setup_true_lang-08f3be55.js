import{g as k,q as b,Q as E,r as A,o as B,f as w,u as C,i as x}from"./index-2063e8c9.js";const P=k({name:"PcasCascader",__name:"index",props:{modelValue:{},disabled:{type:Boolean,default:!1},type:{default:"pca"},format:{default:"code"}},emits:["update:modelValue"],setup(V,{emit:y}){const c=V,_=y,s=b(()=>{const e=[];return E.forEach(t=>{const o={code:t.code,name:t.name},n=[];t.children.forEach(a=>{const i={code:a.code,name:a.name};if(["pca","pcas"].includes(c.type)){const p=[];a.children.forEach(l=>{const u={code:l.code,name:l.name};if(c.type==="pcas"){const f=[];l.children.forEach(h=>{const g={code:h.code,name:h.name};f.push(g)}),u.children=f}p.push(u)}),i.children=p}n.push(i)}),o.children=n,e.push(o)}),e}),d=b({get:()=>r(c.modelValue),set:e=>{_("update:modelValue",e?m(e):[])}});function r(e,t=s.value){const o=[];if(e.length>0){const n=t.find(a=>c.format==="code"?a.code===e[0]:c.format==="name"?a.name===e[0]:a.name===e[0].name&&a.code===e[0].code);o.push(n.code),n.children&&o.push(...r(e.slice(1-e.length),n.children))}return o}function m(e,t=s.value){const o=[],n=t.find(a=>a.code===e[0]);if(n){switch(c.format){case"code":o.push(n.code);break;case"name":o.push(n.name);break;case"both":o.push({code:n.code,name:n.name})}const a=e.slice(1-e.length);a.length>0&&n.children&&o.push(...m(a,n.children))}return o}return(e,t)=>{const o=A("el-cascader");return B(),w(o,{modelValue:C(d),"onUpdate:modelValue":t[0]||(t[0]=n=>x(d)?d.value=n:null),options:C(s),props:{value:"code",label:"name"},disabled:e.disabled,clearable:"",filterable:""},null,8,["modelValue","options","disabled"])}}});export{P as _};
