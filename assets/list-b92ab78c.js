import{g as ae,z as le,p as oe,h as ne,N as se,ab as D,aA as ie,r as d,S as re,o as c,c as de,a,w as o,l as f,b as i,u as l,af as M,T as V,t as ue,f as h,x,ai as pe,a2 as me,E as _e,P as ce,k as fe,e as ge,$ as be,a0 as he,ae as w,_ as ve,d as L}from"./index-2063e8c9.js";import{_ as ye}from"./index-b7719e05.js";import{_ as Ce}from"./index.vue_vue_type_script_setup_true_lang-6c22228f.js";import{a as B}from"./index.vue_vue_type_script_setup_true_lang-741434f0.js";import{u as Me}from"./usePagination-4a1ec3e2.js";import{u as Ve}from"./useTabbar-4ad52ae9.js";const S=v=>(be("data-v-9e637ec2"),v=v(),he(),v),xe=S(()=>f("p",null,"同时，标准模块还提供了两个优秀的特性：",-1)),ze={style:{display:"flex","align-items":"center"}},ke=S(()=>f("span",{style:{"margin-right":"20px"}},"特性1：列表展示模式",-1)),we={style:{display:"flex","align-items":"center","margin-bottom":"0"}},Se=S(()=>f("span",{style:{"margin-right":"20px"}},"特性2：表单展示模式",-1)),U=ae({name:"PagesExampleFormModeList",__name:"list",setup(v){const $=le(),{pagination:_,getParams:A,onSizeChange:K,onCurrentChange:N,onSortChange:T}=Me(),E=Ve(),y=oe(),e=ne({loading:!1,tableAutoHeight:!1,formMode:"router",formModeProps:{visible:!1,id:""},search:{title:"",title2:"",title3:"",title4:""},searchFold:!0,batch:{enable:!0,selectionDataList:[]},dataList:[]});se(()=>{m(),e.value.formMode==="router"&&D.on("get-data-list",()=>{m()})}),ie(()=>{e.value.formMode==="router"&&D.off("get-data-list")});function m(){e.value.loading=!0;const r={...A(),...e.value.search.title&&{title:e.value.search.title}};B.list(r).then(t=>{e.value.loading=!1,e.value.dataList=t.data.list,_.value.total=t.data.total})}function F(r){K(r).then(()=>m())}function u(r=1){N(r).then(()=>m())}function H({prop:r,order:t}){T(r,t).then(()=>m())}function I(){e.value.formMode==="router"?y.settings.tabbar.enable&&y.settings.tabbar.mergeTabsBy!=="activeMenu"?E.open({name:"standardModuleExampleCreate"}):$.push({name:"standardModuleExampleCreate"}):(e.value.formModeProps.id="",e.value.formModeProps.visible=!0)}function R(r){e.value.formMode==="router"?y.settings.tabbar.enable&&y.settings.tabbar.mergeTabsBy!=="activeMenu"?E.open({name:"standardModuleExampleEdit",params:{id:r.id}}):$.push({name:"standardModuleExampleEdit",params:{id:r.id}}):(e.value.formModeProps.id=r.id,e.value.formModeProps.visible=!0)}function j(r){me.confirm(`确认删除「${r.title}」吗？`,"确认信息").then(()=>{B.delete(r.id).then(()=>{m(),_e.success({message:"模拟删除成功",center:!0})})}).catch(()=>{})}return(r,t)=>{const q=d("el-tag"),g=d("el-radio-button"),P=d("el-radio-group"),G=ce,C=d("el-input"),b=d("el-form-item"),z=fe,p=d("el-button"),J=d("el-form"),O=ye,Q=d("el-divider"),W=d("el-button-group"),X=d("el-space"),k=d("el-table-column"),Y=d("el-table"),Z=d("el-pagination"),ee=ge,te=re("loading");return c(),de("div",{class:pe({"absolute-container":l(e).tableAutoHeight})},[a(G,{title:"标准模块"},{content:o(()=>[f("p",null,[i("标准模块即包含 CRUD (增查改删) 操作的基础模块，开发者可通过 "),a(q,null,{default:o(()=>[i("pnpm run new")]),_:1}),i(" 命令快速生成一个标准模块，并在此基础上完善业务模块所需要的功能。")]),xe,f("p",ze,[ke,a(P,{modelValue:l(e).tableAutoHeight,"onUpdate:modelValue":t[0]||(t[0]=s=>l(e).tableAutoHeight=s),size:"default"},{default:o(()=>[a(g,{label:!1},{default:o(()=>[i(" 默认 ")]),_:1}),a(g,{label:!0},{default:o(()=>[i(" 列表高度自适应 ")]),_:1})]),_:1},8,["modelValue"])]),f("p",we,[Se,a(P,{modelValue:l(e).formMode,"onUpdate:modelValue":t[1]||(t[1]=s=>l(e).formMode=s),size:"default"},{default:o(()=>[a(g,{label:"router"},{default:o(()=>[i(" 路由跳转 ")]),_:1}),a(g,{label:"dialog"},{default:o(()=>[i(" 对话框 ")]),_:1}),a(g,{label:"drawer"},{default:o(()=>[i(" 抽屉 ")]),_:1})]),_:1},8,["modelValue"])])]),_:1}),a(ee,null,{default:o(()=>[a(O,{fold:l(e).searchFold,"show-toggle":!1},{default:o(({fold:s})=>[a(J,{model:l(e).search,size:"default","label-width":"100px",inline:"","inline-message":"",class:"search-form"},{default:o(()=>[a(b,{label:"标题"},{default:o(()=>[a(C,{modelValue:l(e).search.title,"onUpdate:modelValue":t[2]||(t[2]=n=>l(e).search.title=n),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:t[3]||(t[3]=M(n=>u(),["enter"])),onClear:t[4]||(t[4]=n=>u())},null,8,["modelValue"])]),_:1}),V(a(b,{label:"标题2"},{default:o(()=>[a(C,{modelValue:l(e).search.title2,"onUpdate:modelValue":t[5]||(t[5]=n=>l(e).search.title2=n),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:t[6]||(t[6]=M(n=>u(),["enter"])),onClear:t[7]||(t[7]=n=>u())},null,8,["modelValue"])]),_:2},1536),[[w,!s]]),V(a(b,{label:"标题3"},{default:o(()=>[a(C,{modelValue:l(e).search.title3,"onUpdate:modelValue":t[8]||(t[8]=n=>l(e).search.title3=n),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:t[9]||(t[9]=M(n=>u(),["enter"])),onClear:t[10]||(t[10]=n=>u())},null,8,["modelValue"])]),_:2},1536),[[w,!s]]),V(a(b,{label:"标题4"},{default:o(()=>[a(C,{modelValue:l(e).search.title4,"onUpdate:modelValue":t[11]||(t[11]=n=>l(e).search.title4=n),placeholder:"请输入标题，支持模糊查询",clearable:"",onKeydown:t[12]||(t[12]=M(n=>u(),["enter"])),onClear:t[13]||(t[13]=n=>u())},null,8,["modelValue"])]),_:2},1536),[[w,!s]]),a(b,null,{default:o(()=>[a(p,{type:"primary",onClick:t[14]||(t[14]=n=>u())},{icon:o(()=>[a(z,{name:"ep:search"})]),default:o(()=>[i(" 筛选 ")]),_:1}),a(p,{link:"",onClick:n=>l(e).searchFold=!s},{icon:o(()=>[a(z,{name:s?"ep:caret-bottom":"ep:caret-top"},null,8,["name"])]),default:o(()=>[i(" "+ue(s?"展开":"收起"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["model"])]),_:1},8,["fold"]),a(Q,{"border-style":"dashed"}),a(X,{wrap:""},{default:o(()=>[a(p,{type:"primary",size:"default",onClick:I},{icon:o(()=>[a(z,{name:"ep:plus"})]),default:o(()=>[i(" 新增 ")]),_:1}),l(e).batch.enable?(c(),h(p,{key:0,size:"default",disabled:!l(e).batch.selectionDataList.length},{default:o(()=>[i(" 单个批量操作按钮 ")]),_:1},8,["disabled"])):x("",!0),l(e).batch.enable?(c(),h(W,{key:1},{default:o(()=>[a(p,{size:"default",disabled:!l(e).batch.selectionDataList.length},{default:o(()=>[i(" 批量操作按钮组1 ")]),_:1},8,["disabled"]),a(p,{size:"default",disabled:!l(e).batch.selectionDataList.length},{default:o(()=>[i(" 批量操作按钮组2 ")]),_:1},8,["disabled"])]),_:1})):x("",!0)]),_:1}),V((c(),h(Y,{class:"list-table",data:l(e).dataList,border:"",stripe:"","highlight-current-row":"",height:"100%",onSortChange:H,onSelectionChange:t[15]||(t[15]=s=>l(e).batch.selectionDataList=s)},{default:o(()=>[l(e).batch.enable?(c(),h(k,{key:0,type:"selection",align:"center",fixed:""})):x("",!0),a(k,{prop:"title",label:"标题"}),a(k,{label:"操作",width:"250",align:"center",fixed:"right"},{default:o(s=>[a(p,{type:"primary",size:"small",plain:"",onClick:n=>R(s.row)},{default:o(()=>[i(" 编辑 ")]),_:2},1032,["onClick"]),a(p,{type:"danger",size:"small",plain:"",onClick:n=>j(s.row)},{default:o(()=>[i(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[te,l(e).loading]]),a(Z,{"current-page":l(_).page,total:l(_).total,"page-size":l(_).size,"page-sizes":l(_).sizes,layout:l(_).layout,"hide-on-single-page":!1,class:"pagination",background:"",onSizeChange:F,onCurrentChange:u},null,8,["current-page","total","page-size","page-sizes","layout"])]),_:1}),l(e).formMode==="dialog"||l(e).formMode==="drawer"?(c(),h(Ce,{key:0,id:l(e).formModeProps.id,modelValue:l(e).formModeProps.visible,"onUpdate:modelValue":t[16]||(t[16]=s=>l(e).formModeProps.visible=s),mode:l(e).formMode,onSuccess:m},null,8,["id","modelValue","mode"])):x("",!0)],2)}}});typeof L=="function"&&L(U);const Ue=ve(U,[["__scopeId","data-v-9e637ec2"]]);export{Ue as default};
