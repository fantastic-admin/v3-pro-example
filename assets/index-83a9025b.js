import p from"./index-580b2865.js";import g from"./index-b9f79237.js";import{g as _,p as h,q as b,h as m,N as f,al as y,K as v,o as r,c as T,u as t,f as c,x as d,ai as w,_ as x}from"./index-2063e8c9.js";import"./sortable.esm-0d19b1d3.js";import"./useTabbar-4ad52ae9.js";import"./useMainPage-276e4482.js";import"./index-d774b4b1.js";import"./index.vue_vue_type_script_setup_true_lang-d5331bf5.js";import"./index-5e5a1a02.js";import"./index-f5757ff3.js";import"./notification-bf0bef18.js";import"./index-0c6ca441.js";const S=_({name:"Topbar",__name:"index",setup(k){const e=h(),n=b(()=>!(e.settings.menu.menuMode==="head"&&!e.settings.menu.enableSubMenuCollapseButton&&!e.settings.favorites.enable&&(!e.settings.breadcrumb.enable||e.settings.app.routeBaseOn==="filesystem")||e.settings.menu.menuMode==="only-head"&&!e.settings.favorites.enable&&(!e.settings.breadcrumb.enable||e.settings.app.routeBaseOn==="filesystem"))),s=m(0),i=m(!1),u=b(()=>{const o=e.settings.tabbar.enable?Number.parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-tabbar-height")):0,a=n.value?Number.parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-toolbar-height")):0;return o+a});f(()=>{window.addEventListener("scroll",l)}),y(()=>{window.removeEventListener("scroll",l)});function l(){s.value=(document.documentElement||document.body).scrollTop}return v(s,(o,a)=>{i.value=e.settings.topbar.mode==="sticky"&&o>a&&o>u.value}),(o,a)=>(r(),T("div",{class:w(["topbar-container",{"has-tabbar":t(e).settings.tabbar.enable,"has-toolbar":t(n),[`topbar-${t(e).settings.topbar.mode}`]:!0,shadow:!t(e).settings.topbar.switchTabbarAndToolbar&&t(s),hide:t(i),"switch-tabbar-toolbar":t(e).settings.topbar.switchTabbarAndToolbar}]),"data-fixed-calc-width":""},[t(e).settings.tabbar.enable?(r(),c(p,{key:0})):d("",!0),t(n)?(r(),c(g,{key:1})):d("",!0)],2))}});const q=x(S,[["__scopeId","data-v-ed2574a6"]]);export{q as default};
