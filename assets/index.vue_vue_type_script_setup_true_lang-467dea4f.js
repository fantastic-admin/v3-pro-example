import{U as s,g as U,h as r,N as j,E as p,r as d,S as w,T as L,u as i,o as V,c as C,a as u,w as f}from"./index-2063e8c9.js";const m={list:e=>s.get("job/list",{params:e,baseURL:"/mock/"}),detail:e=>s.get("job/detail",{params:e,baseURL:"/mock/"}),create:e=>s.post("job/create",e,{baseURL:"/mock/"}),edit:e=>s.post("job/edit",e,{baseURL:"/mock/"}),delete:e=>s.post("job/delete",{id:e},{baseURL:"/mock/"})},I=U({__name:"index",props:{id:{default:""},departmentId:{default:""}},setup(e,{expose:_}){const c=e,n=r(!1),l=r(),t=r({id:c.id,department_id:c.departmentId,title:""}),v=r({title:[{required:!0,message:"请输入职位名称",trigger:"blur"}]});j(()=>{t.value.id!==""&&b()});function b(){n.value=!0,m.detail({department_id:t.value.department_id,id:t.value.id}).then(o=>{n.value=!1,t.value.title=o.data.title})}return _({submit(){return new Promise(o=>{t.value.id===""?l.value&&l.value.validate(a=>{a&&m.create(t.value).then(()=>{p.success({message:"模拟新增成功",center:!0}),o()})}):l.value&&l.value.validate(a=>{a&&m.edit(t.value).then(()=>{p.success({message:"模拟编辑成功",center:!0}),o()})})})}}),(o,a)=>{const g=d("el-input"),k=d("el-form-item"),R=d("el-form"),h=w("loading");return L((V(),C("div",null,[u(R,{ref_key:"formRef",ref:l,model:i(t),rules:i(v),"label-width":"120px","label-suffix":"："},{default:f(()=>[u(k,{label:"职位",prop:"title"},{default:f(()=>[u(g,{modelValue:i(t).title,"onUpdate:modelValue":a[0]||(a[0]=x=>i(t).title=x),placeholder:"请输入职位名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[h,i(n)]])}}});export{I as _,m as a};
