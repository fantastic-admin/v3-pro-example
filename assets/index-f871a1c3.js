import{a as _}from"./dictionary-c7d0e12e.js";import{g as R,h as c,q as B,N as D,r as s,o as E,f as N,w as d,a as t,b,u as a,i as z,E as y,_ as M}from"./index-2063e8c9.js";const S=R({__name:"index",props:{modelValue:{type:Boolean,default:!1},dictionaryId:{default:""},id:{default:""},tree:{}},emits:["update:modelValue","success"],setup(g,{emit:x}){const u=g,p=x,r=c(u.modelValue),I=B(()=>u.id===""?"新增字典项":"编辑字典项"),i=c(),e=c({dictionaryId:u.dictionaryId,id:u.id,name:"",value:"",enable:!0}),C=c({dictionaryId:[{required:!0,message:"请选择所属字典"}],name:[{required:!0,message:"请输入字典项名称"}],value:[{required:!0,message:"请输入字典项键值"}]});D(()=>{u.id!==""&&_.itemDetail(u.id).then(o=>{e.value.id=o.data.id,e.value.name=o.data.name,e.value.value=o.data.value,e.value.enable=o.data.enable})});function k(){e.value.id===""?i.value&&i.value.validate(o=>{o&&_.itemCreate(e.value).then(()=>{y.success({message:"模拟新增成功",center:!0}),p("success"),f()})}):i.value&&i.value.validate(o=>{o&&_.itemEdit(e.value).then(()=>{y.success({message:"模拟编辑成功",center:!0}),p("success"),f()})})}function f(){r.value=!1}return(o,l)=>{const w=s("el-cascader"),m=s("el-form-item"),v=s("el-input"),U=s("el-switch"),h=s("el-form"),V=s("el-button"),q=s("el-dialog");return E(),N(q,{modelValue:a(r),"onUpdate:modelValue":l[4]||(l[4]=n=>z(r)?r.value=n:null),title:a(I),width:"400px","close-on-click-modal":!1,"append-to-body":"","destroy-on-close":"",onClosed:l[5]||(l[5]=n=>p("update:modelValue",!1))},{footer:d(()=>[t(V,{size:"large",onClick:f},{default:d(()=>[b(" 取消 ")]),_:1}),t(V,{type:"primary",size:"large",onClick:k},{default:d(()=>[b(" 确定 ")]),_:1})]),default:d(()=>[t(h,{ref_key:"formRef",ref:i,model:a(e),rules:a(C),"label-width":"100px"},{default:d(()=>[t(m,{label:"所属字典",prop:"dictionaryId"},{default:d(()=>[t(w,{modelValue:a(e).dictionaryId,"onUpdate:modelValue":l[0]||(l[0]=n=>a(e).dictionaryId=n),options:o.tree,props:{value:"id",emitPath:!1,checkStrictly:!0},"show-all-levels":!1,placeholder:"请选择所属字典"},null,8,["modelValue","options"])]),_:1}),t(m,{label:"字典项名称",prop:"name"},{default:d(()=>[t(v,{modelValue:a(e).name,"onUpdate:modelValue":l[1]||(l[1]=n=>a(e).name=n),placeholder:"请输入字典项名称",clearable:""},null,8,["modelValue"])]),_:1}),t(m,{label:"字典项键值",prop:"value"},{default:d(()=>[t(v,{modelValue:a(e).value,"onUpdate:modelValue":l[2]||(l[2]=n=>a(e).value=n),placeholder:"请输入字典项键值",clearable:""},null,8,["modelValue"])]),_:1}),t(m,{label:"状态",prop:"enable"},{default:d(()=>[t(U,{modelValue:a(e).enable,"onUpdate:modelValue":l[3]||(l[3]=n=>a(e).enable=n),"inline-prompt":"","active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])}}});const $=M(S,[["__scopeId","data-v-98d38c69"]]);export{$ as default};
