import{q as y,h as b,C as M,D as C,G as S,H as h,J as q,K as A,L as R,M as z,N as D}from"./index-2063e8c9.js";function g(u){var t;const e=S(u);return(t=e==null?void 0:e.$el)!=null?t:e}const _=h?window:void 0,L=h?window.document:void 0,T=h?window.navigator:void 0;function E(...u){let t,e,d,l;if(typeof u[0]=="string"||Array.isArray(u[0])?([e,d,l]=u,t=_):[t,e,d,l]=u,!t)return q;Array.isArray(e)||(e=[e]),Array.isArray(d)||(d=[d]);const r=[],v=()=>{r.forEach(o=>o()),r.length=0},i=(o,p,w,f)=>(o.addEventListener(p,w,f),()=>o.removeEventListener(p,w,f)),s=A(()=>[g(t),S(l)],([o,p])=>{if(v(),!o)return;const w=R(p)?{...p}:p;r.push(...e.flatMap(f=>d.map(F=>i(o,f,F,w))))},{immediate:!0,flush:"post"}),m=()=>{s(),v()};return C(m),m}function B(){const u=b(!1);return z()&&D(()=>{u.value=!0}),u}function k(u){const t=B();return y(()=>(t.value,!!u()))}function I(u={}){const{navigator:t=T,read:e=!1,source:d,copiedDuring:l=1500,legacy:r=!1}=u,v=k(()=>t&&"clipboard"in t),i=y(()=>v.value||r),s=b(""),m=b(!1),o=M(()=>m.value=!1,l);function p(){v.value?t.clipboard.readText().then(a=>{s.value=a}):s.value=F()}i.value&&e&&E(["copy","cut"],p);async function w(a=S(d)){i.value&&a!=null&&(v.value?await t.clipboard.writeText(a):f(a),s.value=a,m.value=!0,o.start())}function f(a){const c=document.createElement("textarea");c.value=a??"",c.style.position="absolute",c.style.opacity="0",document.body.appendChild(c),c.select(),document.execCommand("copy"),c.remove()}function F(){var a,c,n;return(n=(c=(a=document==null?void 0:document.getSelection)==null?void 0:a.call(document))==null?void 0:c.toString())!=null?n:""}return{isSupported:i,text:s,copied:m,copy:w}}const x=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function N(u,t={}){const{document:e=L,autoExit:d=!1}=t,l=y(()=>{var n;return(n=g(u))!=null?n:e==null?void 0:e.querySelector("html")}),r=b(!1),v=y(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(n=>e&&n in e||l.value&&n in l.value)),i=y(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(n=>e&&n in e||l.value&&n in l.value)),s=y(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(n=>e&&n in e||l.value&&n in l.value)),m=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(n=>e&&n in e),o=k(()=>l.value&&e&&v.value!==void 0&&i.value!==void 0&&s.value!==void 0),p=()=>m?(e==null?void 0:e[m])===l.value:!1,w=()=>{if(s.value){if(e&&e[s.value]!=null)return e[s.value];{const n=l.value;if((n==null?void 0:n[s.value])!=null)return!!n[s.value]}}return!1};async function f(){if(!(!o.value||!r.value)){if(i.value)if((e==null?void 0:e[i.value])!=null)await e[i.value]();else{const n=l.value;(n==null?void 0:n[i.value])!=null&&await n[i.value]()}r.value=!1}}async function F(){if(!o.value||r.value)return;w()&&await f();const n=l.value;v.value&&(n==null?void 0:n[v.value])!=null&&(await n[v.value](),r.value=!0)}async function a(){await(r.value?f():F())}const c=()=>{const n=w();(!n||n&&p())&&(r.value=n)};return E(e,x,c,!1),E(()=>g(l),x,c,!1),d&&C(f),{isSupported:o,isFullscreen:r,enter:F,exit:f,toggle:a}}export{N as a,I as u};
