import{g as Q,h as q,r,o as a,c,T as $,ae as B,f as u,w as t,a as s,b as p,x as V,F as L,j as U,t as _,u as y,Q as b,E as A,$ as G,a0 as H,l as J,_ as K}from"./index-2063e8c9.js";const R=h=>(G("data-v-aa879ca5"),h=h(),H(),h),W={key:0},X={key:0},Y={key:0},Z={key:0},ee={key:0},le=R(()=>J("span",null,null,-1)),te={key:0,style:{padding:"10px"}},ae=Q({__name:"index",props:{modelValue:{default:()=>[]},type:{default:1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(h,{emit:D}){const m=h,v=D,o=q({index:"",visible:!1,checkList:[],disableList:[]});function x(){o.value.index="",o.value.checkList=[],o.value.disableList=F(),o.value.visible=!0}function I(){if(o.value.checkList.length===0)A({message:"请勾选区域",type:"warning"});else{const e=m.modelValue;o.value.index!==""?e[o.value.index].list=o.value.checkList:e.push({list:o.value.checkList,first_step:"",first_price:"",continued_step:"",continued_price:""}),v("update:modelValue",e),o.value.visible=!1}}function N(e){o.value.index=e,o.value.checkList=m.modelValue[e].list,o.value.disableList=F(e),o.value.visible=!0}function E(e){const d=m.modelValue;d.splice(e,1),v("update:modelValue",d)}function j(e,d){const n=m.modelValue;n[e].list.splice(n[e].list.indexOf(d),1),n[e].list.length===0&&n.splice(e,1),v("update:modelValue",n)}function z(e){let d="";for(const n in b)b[n].code===e&&(d=b[n].name);return d}function F(e){const d=[];for(let n=0;n<m.modelValue.length;n++)e!==n&&d.push(...m.modelValue[n].list);return d}return(e,d)=>{const n=r("el-tag"),w=r("el-col"),g=r("el-button"),S=r("el-row"),f=r("el-table-column"),k=r("el-input"),P=r("el-table"),T=r("el-checkbox"),M=r("el-checkbox-group"),O=r("el-dialog");return a(),c("div",null,[e.readonly&&e.modelValue.length===0?V("",!0):$((a(),u(P,{key:0,data:e.modelValue,border:"",class:"freight"},{empty:t(()=>[le]),append:t(()=>[e.readonly?V("",!0):(a(),c("div",te,[s(g,{type:"primary",size:"small",plain:"",style:{width:"100%"},onClick:x},{default:t(()=>[p(" 新增一条运费模版 ")]),_:1})]))]),default:t(()=>[s(f,{label:"运送到"},{default:t(l=>[e.readonly?(a(),c("div",W,[(a(!0),c(L,null,U(l.row.list,(i,C)=>(a(),u(n,{key:C,type:"info"},{default:t(()=>[p(_(z(i)),1)]),_:2},1024))),128))])):(a(),u(S,{key:1,type:"flex",align:"middle",justify:"space-between"},{default:t(()=>[s(w,null,{default:t(()=>[(a(!0),c(L,null,U(l.row.list,(i,C)=>(a(),u(n,{key:C,"disable-transitions":!0,type:"info",closable:"",onClose:oe=>j(l.$index,i)},{default:t(()=>[p(_(z(i)),1)]),_:2},1032,["onClose"]))),128))]),_:2},1024),s(w,{style:{width:"100px","text-align":"right"}},{default:t(()=>[s(g,{size:"small",plain:"",onClick:i=>N(l.$index)},{default:t(()=>[p(" 编 辑 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))]),_:1}),s(f,{label:e.type===1?"首件数（件）":"首重量（kg）",width:"150",align:"center"},{default:t(l=>[e.readonly?(a(),c("span",X,_(l.row.first_step),1)):(a(),u(k,{key:1,modelValue:l.row.first_step,"onUpdate:modelValue":i=>l.row.first_step=i,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),s(f,{label:"首费（元）",width:"150",align:"center"},{default:t(l=>[e.readonly?(a(),c("span",Y,_(l.row.first_price),1)):(a(),u(k,{key:1,modelValue:l.row.first_price,"onUpdate:modelValue":i=>l.row.first_price=i,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),s(f,{label:e.type===1?"续件数（件）":"续重量（kg）",width:"150",align:"center"},{default:t(l=>[e.readonly?(a(),c("span",Z,_(l.row.continued_step),1)):(a(),u(k,{key:1,modelValue:l.row.continued_step,"onUpdate:modelValue":i=>l.row.continued_step=i,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1},8,["label"]),s(f,{label:"续费（元）",width:"150",align:"center"},{default:t(l=>[e.readonly?(a(),c("span",ee,_(l.row.continued_price),1)):(a(),u(k,{key:1,modelValue:l.row.continued_price,"onUpdate:modelValue":i=>l.row.continued_price=i,size:"small"},null,8,["modelValue","onUpdate:modelValue"]))]),_:1}),e.readonly?V("",!0):(a(),u(f,{key:0,label:"操作",width:"100",align:"center"},{default:t(l=>[s(g,{type:"danger",size:"small",plain:"",onClick:i=>E(l.$index)},{default:t(()=>[p(" 删 除 ")]),_:2},1032,["onClick"])]),_:1}))]),_:1},8,["data"])),[[B,e.modelValue.length!==0]]),e.readonly?V("",!0):$((a(),u(g,{key:1,type:"primary",size:"default",plain:"",onClick:x},{default:t(()=>[p(" 为指定地区设置运费模版 ")]),_:1},512)),[[B,e.modelValue.length===0]]),s(O,{modelValue:y(o).visible,"onUpdate:modelValue":d[1]||(d[1]=l=>y(o).visible=l),title:"选择地区",width:"800px","append-to-body":""},{footer:t(()=>[s(g,{type:"primary",onClick:I},{default:t(()=>[p(" 确 定 ")]),_:1})]),default:t(()=>[s(M,{modelValue:y(o).checkList,"onUpdate:modelValue":d[0]||(d[0]=l=>y(o).checkList=l),style:{"margin-left":"50px"}},{default:t(()=>[s(S,null,{default:t(()=>[(a(!0),c(L,null,U(y(b),(l,i)=>(a(),u(w,{key:i,span:6},{default:t(()=>[s(T,{label:l.code,disabled:y(o).disableList.includes(l.code)},{default:t(()=>[p(_(l.name),1)]),_:2},1032,["label","disabled"])]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])}}});const ie=K(ae,[["__scopeId","data-v-aa879ca5"]]);export{ie as default};
