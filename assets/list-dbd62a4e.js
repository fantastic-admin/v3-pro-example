import{g as w,z as G,p as V,h as $,N as q,r as u,S as A,o as s,c as x,a,w as t,b as i,T as H,u as b,f as c,l as C,t as _,x as p,ai as P,a2 as j,E as R,P as F,k as J,e as K,_ as O,d as E}from"./index-2063e8c9.js";import{a as M}from"./menu-b86efe06.js";import{u as Q}from"./useTabbar-4ad52ae9.js";const U=["title"],W=["title"],X={style:{display:"flex","justify-content":"center"}},z=w({name:"PagesExampleMenuList",__name:"list",setup(Y){const g=G(),h=Q(),r=V(),o=$({loading:!1,tableAutoHeight:!0,dataList:[]});q(()=>{y()});function y(){o.value.loading=!0,M.list().then(n=>{o.value.loading=!1,o.value.dataList=n.data})}function v(n){r.settings.tabbar.enable&&r.settings.tabbar.mergeTabsBy!=="activeMenu"?h.open({name:"pagesExampleGeneralMenuCreate",query:{parentId:n.id}}):g.push({name:"pagesExampleGeneralMenuCreate",query:{parentId:n.id}})}function B(n){r.settings.tabbar.enable&&r.settings.tabbar.mergeTabsBy!=="activeMenu"?h.open({name:"pagesExampleGeneralMenuEdit",params:{id:n.id}}):g.push({name:"pagesExampleGeneralMenuEdit",params:{id:n.id}})}function L(n){j.confirm(`确认删除「${n.meta.title}」吗？`,"确认信息").then(()=>{M.delete(n.id).then(()=>{y(),R.success({message:"模拟删除成功",center:!0})})}).catch(()=>{})}return(n,Z)=>{const D=F,m=J,d=u("el-button"),I=u("el-space"),l=u("el-table-column"),f=u("el-tag"),N=u("el-table"),S=K,T=A("loading");return s(),x("div",{class:P({"absolute-container":b(o).tableAutoHeight})},[a(D,{title:"导航管理",content:"页面数据为 Mock 示例数据，非真实数据。"}),a(S,null,{default:t(()=>[a(I,null,{default:t(()=>[a(d,{type:"primary",size:"default",onClick:v},{icon:t(()=>[a(m,{name:"ep:plus"})]),default:t(()=>[i(" 新增主导航 ")]),_:1})]),_:1}),H((s(),c(N,{class:"list-table",data:b(o).dataList,"row-key":"id","default-expand-all":"",border:"",stripe:"","highlight-current-row":"",height:"100%"},{default:t(()=>[a(l,{prop:"meta.title",label:"标题","min-width":"200",fixed:"left"}),a(l,{label:"路由",width:"200"},{default:t(({row:e})=>[C("span",{title:e.path},_(e.path),9,U)]),_:1}),a(l,{label:"页面组件",width:"200"},{default:t(({row:e})=>[e.component==="Layout"?(s(),c(f,{key:0},{default:t(()=>[i(" Layout ")]),_:1})):(s(),x("span",{key:1,title:e.component},_(e.component),9,W))]),_:1}),a(l,{label:"图标",width:"90",align:"center"},{default:t(({row:e})=>[C("div",X,[e.meta.icon?(s(),c(m,{key:0,name:e.meta.icon,size:24},null,8,["name"])):p("",!0)])]),_:1}),a(l,{label:"激活图标",width:"90",align:"center"},{default:t(({row:e})=>[e.meta.activeIcon?(s(),c(m,{key:0,name:e.meta.activeIcon,size:24},null,8,["name"])):p("",!0)]),_:1}),a(l,{label:"菜单",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.sidebar=="boolean"?(s(),c(f,{key:0,type:e.meta.sidebar?"success":"danger"},{default:t(()=>[i(_(e.meta.sidebar?"显示":"隐藏"),1)]),_:2},1032,["type"])):p("",!0)]),_:1}),a(l,{label:"面包屑",width:"80",align:"center"},{default:t(({row:e})=>[typeof e.meta.breadcrumb=="boolean"?(s(),c(f,{key:0,type:e.meta.breadcrumb?"success":"danger"},{default:t(()=>[i(_(e.meta.breadcrumb?"显示":"隐藏"),1)]),_:2},1032,["type"])):p("",!0)]),_:1}),a(l,{label:"操作",width:"250",align:"center",fixed:"right"},{default:t(e=>[a(d,{type:"info",size:"small",plain:"",onClick:k=>v(e.row)},{default:t(()=>[i(" 新增导航 ")]),_:2},1032,["onClick"]),a(d,{type:"primary",size:"small",plain:"",onClick:k=>B(e.row)},{default:t(()=>[i(" 编辑 ")]),_:2},1032,["onClick"]),a(d,{type:"danger",size:"small",plain:"",onClick:k=>L(e.row)},{default:t(()=>[i(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[T,b(o).loading]])]),_:1})],2)}}});typeof E=="function"&&E(z);const ne=O(z,[["__scopeId","data-v-96cce139"]]);export{ne as default};
