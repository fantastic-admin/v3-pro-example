import{g as B,n as T,p as I,B as w,v as N,I as P,q as x,r as _,o as c,c as f,l as y,u as s,ai as C,a as m,x as h,f as g,w as d,F as $,j as F,ak as L,k as O,b as V,t as j,au as E,_ as q}from"./index-2063e8c9.js";import z from"./index-d774b4b1.js";import D from"./index-0c6ca441.js";import"./index.vue_vue_type_script_setup_true_lang-d5331bf5.js";import"./index-5e5a1a02.js";import"./index-f5757ff3.js";import"./notification-bf0bef18.js";import"./useMainPage-276e4482.js";import"./useTabbar-4ad52ae9.js";import"./sortable.esm-0d19b1d3.js";const G={class:"toolbar-container"},H={class:"left-box"},R={class:"sidebar-favorites"},A=B({name:"Toolbar",__name:"index",setup(J){const i=T(),e=I(),u=w(),b=N(P,Function,!0),k=x(()=>{var t;return e.mode==="mobile"||["side","head","single"].includes(e.settings.menu.menuMode)&&e.settings.menu.enableSubMenuCollapseButton&&!(e.settings.menu.subMenuOnlyOneHide&&u.sidebarMenus.length===1&&(!u.sidebarMenus[0].children||(t=u.sidebarMenus[0])!=null&&t.children.every(a=>{var o;return((o=a.meta)==null?void 0:o.sidebar)===!1})))}),M=x(()=>{var a,o,p;const t=[];if(e.settings.home.enable&&t.push({path:"/",title:b("route.home",e.settings.home.title)}),i.name!=="home"&&e.settings.breadcrumb.enableMainMenu&&!["single"].includes(e.settings.menu.menuMode)){const r=u.allMenus.findIndex(n=>n.children.some(l=>i.fullPath.indexOf(`${l.path}/`)===0||i.fullPath===l.path));(a=u.allMenus[r])!=null&&a.meta&&t.push({path:"",title:b((o=u.allMenus[r].meta)==null?void 0:o.i18n,(p=u.allMenus[r].meta)==null?void 0:p.title)})}if(i.meta.breadcrumbNeste){i.meta.breadcrumbNeste.forEach(n=>{n.hide===!1&&t.push({path:n.path,title:b(n.i18n,n.title)})});const r=e.customTitleList.find(n=>n.fullPath===i.fullPath);r&&(t[t.length-1].title=r.title)}return t});function S(t){return E(t)(i.params)}return(t,a)=>{const o=O,p=_("el-dropdown"),r=_("el-breadcrumb-item"),n=_("el-breadcrumb");return c(),f("div",G,[y("div",H,[s(k)?(c(),f("div",{key:0,class:C(["sidebar-collapse",{"is-collapse":s(e).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=l=>s(e).toggleSidebarCollapse())},[m(o,{name:"toolbar-collapse"})],2)):h("",!0),s(e).mode==="pc"&&s(e).settings.favorites.enable?(c(),g(p,{key:1,placement:"bottom-start"},{dropdown:d(()=>[m(D)]),default:d(()=>[y("div",R,[m(o,{name:"uiw:star-off"})])]),_:1})):h("",!0),s(e).mode==="pc"&&s(e).settings.breadcrumb.enable&&s(e).settings.app.routeBaseOn!=="filesystem"?(c(),g(n,{key:2,class:C(["breadcrumb",{[`breadcrumb-${s(e).settings.breadcrumb.style}`]:s(e).settings.breadcrumb.style!==""}])},{default:d(()=>[m(L,{name:"breadcrumb"},{default:d(()=>[(c(!0),f($,null,F(s(M),(l,v)=>(c(),g(r,{key:`${v}_${l.path}`,to:v<s(M).length-1&&l.path!==""?S(l.path):""},{default:d(()=>[V(j(l.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["class"])):h("",!0)]),m(z)])}}});const ne=q(A,[["__scopeId","data-v-2a74cc56"]]);export{ne as default};
