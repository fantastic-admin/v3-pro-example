import{n as p,z as T,p as R,A as k,E as r}from"./index-2063e8c9.js";function L(){const c=p(),d=T(),f=R(),t=k();function i(){return f.settings.tabbar.mergeTabsBy==="activeMenu"?c.meta.activeMenu??c.fullPath:c.fullPath}function u(e){const n=t.list.findIndex(s=>s.tabId===i());t.$patch({leaveIndex:n}),d.push(e)}function h(e){const n=i();d.go(e),t.remove(n)}function a(e){const n=i();d.push(e).then(()=>{t.remove(n)})}function I(e=i()){const n=i();if(t.list.some(s=>s.tabId===e))if(t.list.length>1)if(e===n){const s=t.list.findIndex(l=>l.tabId===e);s<t.list.length-1?a(t.list[s+1].fullPath):a(t.list[s-1].fullPath)}else t.remove(e);else r.error("当前只有一个标签页，已阻止关闭");else r.error("关闭的页面不存在")}function x(e=i()){const n=i();if(e!==n){const s=t.list.findIndex(l=>l.tabId===e);d.push(t.list[s].fullPath)}t.removeOtherSide(e)}function b(e=i()){const n=i();if(e!==n){const s=t.list.findIndex(o=>o.tabId===e);t.list.findIndex(o=>o.tabId===n)<s&&d.push(t.list[s].fullPath)}t.removeLeftSide(e)}function v(e=i()){const n=i();if(e!==n){const s=t.list.findIndex(o=>o.tabId===e);t.list.findIndex(o=>o.tabId===n)>s&&d.push(t.list[s].fullPath)}t.removeRightSide(e)}function g(e=i()){return t.list.some(n=>!n.isPermanent&&!n.isPin&&n.tabId!==e)}function S(e=i()){let n=!0;if(e===t.list[0].tabId)n=!1;else{const s=t.list.findIndex(l=>l.tabId===e);n=t.list.some((l,o)=>o<s&&!l.isPermanent&&!l.isPin&&l.tabId!==e)}return n}function P(e=i()){var s;let n=!0;if(e===((s=t.list.at(-1))==null?void 0:s.tabId))n=!1;else{const l=t.list.findIndex(o=>o.tabId===e);n=t.list.some((o,m)=>m>=l&&!o.isPermanent&&!o.isPin&&o.tabId!==e)}return n}return{getId:i,open:u,go:h,close:a,closeById:I,closeOtherSide:x,closeLeftSide:b,closeRightSide:v,checkCloseOtherSide:g,checkCloseLeftSide:S,checkCloseRightSide:P}}export{L as u};
