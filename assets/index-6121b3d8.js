import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-08f3be55.js";import B from"./index-7fd4d5b7.js";import{U as u,g as C,h as v,N as E,E as x,r,S as M,T as O,u as a,o as T,c as F,a as l,w as t,b as n,l as I,t as V,_ as P}from"./index-2063e8c9.js";const b={list:d=>u.get("delivery/list",{params:d,baseURL:"/mock/"}),detail:d=>u.get("delivery/detail",{params:{id:d},baseURL:"/mock/"}),create:d=>u.post("delivery/create",d,{baseURL:"/mock/"}),edit:d=>u.post("delivery/edit",d,{baseURL:"/mock/"}),delete:d=>u.post("delivery/delete",{id:d},{baseURL:"/mock/"}),changeStatus:d=>u.post("delivery/change/status",d,{baseURL:"/mock/"})},q={class:"freight"},$=C({__name:"index",props:{id:{default:""}},setup(d,{expose:k}){const R=d,g=v(!1),i=v(),e=v({id:R.id,title:"",address:[],type:1,status:!0,first_step:"",first_price:"",continued_step:"",continued_price:"",infos:[]}),w=v({title:[{required:!0,message:"请输入标题",trigger:"blur"}]});E(()=>{e.value.id!==""&&D()});function D(){g.value=!0,b.detail(e.value.id).then(p=>{g.value=!1,Object.assign(e.value,p.data)})}return k({submit(){return new Promise(p=>{e.value.id===""?i.value&&i.value.validate(o=>{o&&b.create(e.value).then(()=>{x.success({message:"模拟新增成功",center:!0}),p()})}):i.value&&i.value.validate(o=>{o&&b.edit(e.value).then(()=>{x.success({message:"模拟编辑成功",center:!0}),p()})})})}}),(p,o)=>{const m=r("el-input"),_=r("el-form-item"),L=j,c=r("el-radio-button"),y=r("el-radio-group"),f=r("el-col"),U=r("el-row"),z=r("el-card"),S=r("el-form"),N=M("loading");return O((T(),F("div",null,[l(S,{ref_key:"formRef",ref:i,model:a(e),rules:a(w),"label-width":"120px","label-suffix":"："},{default:t(()=>[l(_,{label:"名称",prop:"title"},{default:t(()=>[l(m,{modelValue:a(e).title,"onUpdate:modelValue":o[0]||(o[0]=s=>a(e).title=s),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),l(_,{label:"发货地址",prop:"address"},{default:t(()=>[l(L,{modelValue:a(e).address,"onUpdate:modelValue":o[1]||(o[1]=s=>a(e).address=s),format:"name"},null,8,["modelValue"])]),_:1}),l(_,{label:"计价方式"},{default:t(()=>[l(y,{modelValue:a(e).type,"onUpdate:modelValue":o[2]||(o[2]=s=>a(e).type=s)},{default:t(()=>[l(c,{label:1},{default:t(()=>[n(" 按件数 ")]),_:1}),l(c,{label:2},{default:t(()=>[n(" 按重量 ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"运费模版"},{default:t(()=>[I("div",q,[l(z,{shadow:"never"},{header:t(()=>[n(" 默认运费 ")]),default:t(()=>[l(U,{gutter:20},{default:t(()=>[l(f,{md:6},{default:t(()=>[l(m,{modelValue:a(e).first_step,"onUpdate:modelValue":o[3]||(o[3]=s=>a(e).first_step=s),size:"small"},{prepend:t(()=>[n(V(a(e).type===1?"首件":"首重"),1)]),append:t(()=>[n(V(a(e).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),l(f,{md:6},{default:t(()=>[l(m,{modelValue:a(e).first_price,"onUpdate:modelValue":o[4]||(o[4]=s=>a(e).first_price=s),size:"small"},{prepend:t(()=>[n(" 首费 ")]),append:t(()=>[n(" 元 ")]),_:1},8,["modelValue"])]),_:1}),l(f,{md:6},{default:t(()=>[l(m,{modelValue:a(e).continued_step,"onUpdate:modelValue":o[5]||(o[5]=s=>a(e).continued_step=s),size:"small"},{prepend:t(()=>[n(V(a(e).type===1?"续件":"续重"),1)]),append:t(()=>[n(V(a(e).type===1?"件":"kg"),1)]),_:1},8,["modelValue"])]),_:1}),l(f,{md:6},{default:t(()=>[l(m,{modelValue:a(e).continued_price,"onUpdate:modelValue":o[6]||(o[6]=s=>a(e).continued_price=s),size:"small"},{prepend:t(()=>[n(" 续费 ")]),append:t(()=>[n(" 元 ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(U,null,{default:t(()=>[l(f,{span:24},{default:t(()=>[l(B,{modelValue:a(e).infos,"onUpdate:modelValue":o[7]||(o[7]=s=>a(e).infos=s),type:a(e).type},null,8,["modelValue","type"])]),_:1})]),_:1})])]),_:1}),l(_,{label:"是否启用"},{default:t(()=>[l(y,{modelValue:a(e).status,"onUpdate:modelValue":o[8]||(o[8]=s=>a(e).status=s)},{default:t(()=>[l(c,{label:!0},{default:t(()=>[n(" 启用 ")]),_:1}),l(c,{label:!1},{default:t(()=>[n(" 停用 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])])),[[N,a(g)]])}}});const A=P($,[["__scopeId","data-v-7f38954a"]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:A},Symbol.toStringTag,{value:"Module"}));export{A as D,b as a,K as i};
