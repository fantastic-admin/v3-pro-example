import{g as $,o as r,c as a,y as g,aD as A,z as q,p as F,V as G,r as d,S as V,a as s,w as e,u as b,b as o,l as t,t as H,T as h,E as v,P as I,e as J,d as P}from"./index-2063e8c9.js";import{u as K}from"./useMainPage-276e4482.js";import"./useTabbar-4ad52ae9.js";const L=$({name:"AuthAll",__name:"index",props:{value:{}},setup(f){const p=f;function c(){return A().authAll(p.value)}return(n,w)=>(r(),a("div",null,[c()?g(n.$slots,"default",{key:0}):g(n.$slots,"no-auth",{key:1})]))}}),O=$({name:"Auth",__name:"index",props:{value:{}},setup(f){const p=f;function c(){return A().auth(p.value)}return(n,w)=>(r(),a("div",null,[c()?g(n.$slots,"default",{key:0}):g(n.$slots,"no-auth",{key:1})]))}}),Q={key:0},W={key:1},X=t("h3",null,"切换帐号",-1),Y=t("h3",null,"帐号权限",-1),Z=t("h3",null,"访问鉴权页面",-1),ee=t("h3",null,"鉴权组件（请对照代码查看）",-1),se=t("h3",null,"鉴权指令（请对照代码查看）",-1),oe=t("h3",null,"鉴权函数（请对照代码查看）",-1),ne=$({__name:"index",setup(f){const p=q(),c=F(),n=G(),{auth:w,authAll:D}=A(),E=K();async function T(u){await n.login({account:u,password:""}),await n.getPermissions(),E.reload()}function B(){p.push({name:"permissionExampleTest"})}function y(u){w(u)?v.success("校验通过"):v.error("校验不通过")}function N(u){D(u)?v.success("校验通过"):v.error("校验不通过")}return(u,i)=>{const M=I,k=d("el-radio-button"),U=d("el-radio-group"),m=d("el-button"),l=d("el-tag"),C=O,j=L,S=d("el-button-group"),z=J,x=V("auth"),R=V("auth-all");return r(),a("div",null,[s(M,{title:"权限验证"}),s(z,null,{default:e(()=>[b(c).settings.app.enablePermission?(r(),a("div",W,[X,s(U,{modelValue:b(n).account,"onUpdate:modelValue":i[0]||(i[0]=_=>b(n).account=_),onChange:T},{default:e(()=>[s(k,{label:"admin"}),s(k,{label:"test"}),s(k,{label:"hooray"},{default:e(()=>[o(" hooray(无权限) ")]),_:1})]),_:1},8,["modelValue"]),Y,t("div",null,H(b(n).permissions),1),Z,t("div",null,[s(m,{onClick:B},{default:e(()=>[o(" 点击访问 ")]),_:1})]),ee,t("div",null,[s(C,{value:"permission.browse",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 权限")]),_:1})]),_:1}),s(C,{value:"permission.create",style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.create 权限")]),_:1})]),_:1}),s(C,{value:["permission.browse","permission.create"],style:{"margin-bottom":"10px"}},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 或 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 或 permission.create 权限")]),_:1})]),_:1},8,["value"]),s(j,{value:["permission.browse","permission.create"]},{"no-auth":e(()=>[s(l,{type:"danger"},{default:e(()=>[o(" 你没有 permission.browse 和 permission.create 权限 ")]),_:1})]),default:e(()=>[s(l,null,{default:e(()=>[o("你有 permission.browse 和 permission.create 权限")]),_:1})]),_:1},8,["value"])]),se,t("div",null,[h((r(),a("div",null,[o(" 如果你有 permission.browse 权限则能看到这句话 ")])),[[x,"permission.browse"]]),h((r(),a("div",null,[o(" 如果你有 permission.create 权限则能看到这句话 ")])),[[x,"permission.create"]]),h((r(),a("div",null,[o(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")])),[[x,["permission.browse","permission.create"]]]),h((r(),a("div",null,[o(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")])),[[R,["permission.browse","permission.create"]]])]),oe,t("div",null,[s(S,{style:{display:"block","margin-bottom":"10px"}},{default:e(()=>[s(m,{onClick:i[1]||(i[1]=_=>y("permission.browse"))},{default:e(()=>[o(" 校验 permission.browse 权限 ")]),_:1}),s(m,{onClick:i[2]||(i[2]=_=>y("permission.create"))},{default:e(()=>[o(" 校验 permission.create 权限 ")]),_:1})]),_:1}),s(S,null,{default:e(()=>[s(m,{onClick:i[3]||(i[3]=_=>y(["permission.browse","permission.create"]))},{default:e(()=>[o(" 校验 permission.browse 或 permission.create 权限 ")]),_:1}),s(m,{onClick:i[4]||(i[4]=_=>N(["permission.browse","permission.create"]))},{default:e(()=>[o(" 校验 permission.browse 和 permission.create 权限 ")]),_:1})]),_:1})])])):(r(),a("div",Q," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});typeof P=="function"&&P(ne);export{ne as default};
